import React, { createContext, useContext, useEffect, useMemo, useState } from 'react'

const translations = {
  en: {
    home: 'Home',
    bookings: 'Bookings',
    login: 'Login',
    logout: 'Logout',
    about: 'About Us',
    tourBuddy: 'Tour Buddy',
    discoverTitle: 'Discover',
    artsTitle: 'Arts of Jharkhand',
    artsIntro: 'Explore folk arts, crafts, textiles, and performance traditions from the heart of Jharkhand. Each card highlights an art form with an image and a short description.',
    marketplaceTitle: 'Marketplace',
    viewLocationLink: 'View Location / Link',
    viewOnMap: 'View on Map',
    folksTitle: 'Folks & Culture',
    folksIntro: 'A month-wise view of Jharkhand’s tribal culture and festivals. Explore the calendar to plan your cultural journey.',
    exploreTitle: 'Explore the REAL JHARKHAND',
    exploreCta: 'Explore the REAL JHARKHAND',
    loginTitle: 'Login',
    role: 'Role',
    guideLogin: 'Login as Travel Guide',
    adminLogin: 'Login as Admin',
    email: 'Email',
    password: 'Password',
    registerGuideLink: 'Register as Travel Guide',
    registerGuideTitle: 'Register as Travel Guide',
    name: 'Full Name',
    phone: 'Phone Number',
    address: 'Address',
    certificateId: 'Certificate ID',
    languagesKnown: 'Languages Known',
    uploadPhoto: 'Upload Photo',
    yearsExp: 'Years of Experience',
    submit: 'Submit',
    // Chatbot
    chatbotTitle: 'AI Travel Assistant',
    chatbotGreeting: "Hi! I'm your travel assistant. Ask me anything about Jharkhand, bookings, or guides.",
    chatbotOpen: 'Chat',
    chatbotClose: 'Close assistant',
    chatbotClear: 'Clear',
    chatbotOnline: 'Online',
    chatbotPlaceholder: 'Ask about places, guides, bookings...',
    chatbotSend: 'Send',
    suggBestTime: 'Best time to visit Netarhat',
    suggHowToReach: 'How to reach Betla National Park',
    suggTopAttractions: 'Top attractions in Patratu Valley',
    suggLocalFood: 'Local food in Ranchi',
    suggBudget: 'Budget for Hundru Falls',
    // Plan Your Trip
    planTitle: 'Plan Your Trip',
    planIntro: 'Tell us your preferences and we’ll suggest local guides. You can also explore hotels and homestays.',
    suggestGuidesBtn: 'Suggest Guides',
    checkStaysBtn: 'Check Hotels & Local Stays',
    suggestedGuidesTitle: 'Suggested Guides',
    hotelsTitle: 'Hotels & Homestays',
    loadingStays: 'Loading stays...',
    // About page
    aboutTitle: 'About Us',
    aboutNavCuisines: 'Cuisines',
    aboutNavTribes: 'Tribes',
    aboutNavArts: 'Arts & Culture',
    aboutNavPlaces: 'Famous Places',
    cuisinesTitle: 'Local Cuisines',
    cuisinesIntro: 'Jharkhand’s cuisine is earthy and wholesome. Here are some beloved dishes you can try on your trip.',
    tribesTitle: 'Tribes of Jharkhand',
    tribesIntro: 'Jharkhand is home to diverse indigenous communities, each with unique languages, attire, and customs.',
    artsCultureTitle: 'Arts & Culture',
    artsCultureIntro: 'From wall paintings to woodcraft, Jharkhand’s arts reflect a deep connection with nature and daily life.',
    placesTitle: 'Famous Places',
    placesIntro: 'Explore must-visit destinations across waterfalls, hills, and heritage sites.',
    // Guide Dashboard
    guideDashboardTitle: 'Guide Dashboard',
    gdProfile: 'Profile', gdEarnings: 'Earnings', gdFeedbacks: 'Feedbacks', gdTransactions: 'Transactions', gdChat: 'Chat', gdAvailability: 'Availability', gdBank: 'Bank Details',
    gdProfileInfo: 'Profile Info', gdLoading: 'Loading...',
    gdName: 'Name', gdEmail: 'Email', gdPhone: 'Phone', gdAddress: 'Address', gdLanguages: 'Languages', gdCertificateId: 'Certificate ID', gdExperience: 'Experience', gdYears: 'years',
    gdEarningsSummary: 'Earnings Summary', gdTotal: 'Total', gdThisMonth: 'This month', gdLastPayout: 'Last payout',
    gdMessages: 'Messages', gdUnread: 'Unread', gdNoMessages: 'No messages yet.', gdYou: 'You', gdVisitor: 'Visitor', gdMarkAllRead: 'Mark all read', gdReplyPlaceholder: 'Reply as guide…',
    gdSave: 'Save', gdAvailableForHire: 'Available for hire', gdNote: 'Note', gdSaveBank: 'Save Bank', gdAddEditBank: 'Add / Edit Bank Details', gdAccountHolderName: 'Account Holder Name', gdAccountNumber: 'Account Number', gdIFSC: 'IFSC', gdBankName: 'Bank Name', gdBranch: 'Branch', gdUpdated: 'Updated',
    // Admin Dashboard
    adminDashboardTitle: 'Admin Dashboard',
    adminTouristInfo: 'Tourist Information', adminGuidesInfo: 'Guides Information', adminMarketDetails: 'Marketplace Details',
    adminConversion: 'Conversion', adminActiveUsers: 'Active Users', adminAvgRating: 'Avg Rating', adminRatingsSnapshot: 'Ratings Snapshot',
    // Footer
    footerTagline: 'Explore. Respect. Celebrate.', footerUsefulLinks: 'Useful links', footerRegisterGuide: 'Register Guide', footerGuideDashboard: 'Guide Dashboard', footerPayments: 'Payments'
    ,
    // Login/Register common
    loginTitle: 'Login',
    adminLogin: 'Admin Login',
    email: 'Email',
    password: 'Password',
    pleaseWait: 'Please wait...',
    createAccount: 'Create Account',
    createAccountCta: 'Create account',
    haveAccountLogin: 'Have an account? Login',
    forgotPassword: 'Forgot password?',
    registerGuideLink: 'Register Guide'
    ,
    // Tourist auth
    touristLoginTitle: 'Tourist Login',
    touristCreateTitle: 'Create Tourist Account',
    fullName: 'Full Name',
    emailInvalid: 'Please enter a valid email address.',
    passwordMin7: 'Password must be at least 7 characters.',
    adminDemoHint: 'Admin demo: email admin@demo.com, password Admin@123'
    ,
    // Register Guide page
    registerGuideTitle: 'Register as Travel Guide',
    name: 'Name',
    phone: 'Phone',
    yearsExp: 'Years of Experience',
    address: 'Address',
    preferredLocation: 'Preferred Location(s)',
    certificateId: 'Certificate ID',
    languagesKnown: 'Languages Known',
    uploadPhoto: 'Upload Photo',
    uploadCertificate: 'Upload Certificate',
    languagesKnownPlaceholder: 'e.g. English, Hindi',
    submit: 'Submit',
    submitting: 'Submitting...',
    registrationSuccess: 'Registration successful! You can now log in as a Travel Guide.',
    registrationFailed: 'Registration failed'
  },
  hi: {
    home: 'होम',
    bookings: 'बुकिंग्स',
    login: 'लॉगिन',
    logout: 'लॉगआउट',
    about: 'हमारे बारे में',
    tourBuddy: 'टूर बडी',
    discoverTitle: 'डिस्कवर',
    artsTitle: 'झारखंड की कलाएँ',
    artsIntro: 'झारखंड की लोक कलाएँ, शिल्प, वस्त्र और प्रदर्शन परंपराएँ जानें। हर कार्ड में एक कला का संक्षिप्त परिचय और चित्र है।',
    marketplaceTitle: 'मार्केटप्लेस',
    viewLocationLink: 'लोकेशन / लिंक देखें',
    viewOnMap: 'मैप पर देखें',
    folksTitle: 'लोग और संस्कृति',
    folksIntro: 'झारखंड की जनजातीय संस्कृति और त्योहारों को महीनेवार देखें। अपनी सांस्कृतिक यात्रा की योजना बनाएँ।',
    exploreTitle: 'रियल झारखंड का अनुभव करें',
    exploreCta: 'रियल झारखंड का अनुभव करें',
    loginTitle: 'लॉगिन',
    role: 'भूमिका',
    guideLogin: 'ट्रैवल गाइड के रूप में लॉगिन',
    adminLogin: 'एडमिन के रूप में लॉगिन',
    email: 'ईमेल',
    password: 'पासवर्ड',
    registerGuideLink: 'ट्रैवल गाइड के रूप में रजिस्टर करें',
    registerGuideTitle: 'ट्रैवल गाइड रजिस्ट्रेशन',
    name: 'पूरा नाम',
    phone: 'फोन नंबर',
    address: 'पता',
    certificateId: 'प्रमाणपत्र आईडी',
    languagesKnown: 'भाषाएँ',
    uploadPhoto: 'फोटो अपलोड करें',
    yearsExp: 'अनुभव (वर्ष)',
    submit: 'सबमिट',
    // Chatbot
    chatbotTitle: 'एआई ट्रैवल असिस्टेंट',
    chatbotGreeting: 'नमस्ते! मैं आपका ट्रैवल असिस्टेंट हूँ। झारखंड, बुकिंग्स या गाइड्स के बारे में कुछ भी पूछें।',
    chatbotOpen: 'चैट',
    chatbotClose: 'सहायक बंद करें',
    chatbotClear: 'हटाएँ',
    chatbotOnline: 'ऑनलाइन',
    chatbotPlaceholder: 'स्थल, गाइड, बुकिंग के बारे में पूछें...',
    chatbotSend: 'भेजें',
    suggBestTime: 'नेतरहाट जाने का सर्वोत्तम समय',
    suggHowToReach: 'बेतला नेशनल पार्क कैसे पहुँचे',
    suggTopAttractions: 'पतरातू वैली के शीर्ष आकर्षण',
    suggLocalFood: 'रांची का लोकल खाना',
    suggBudget: 'हुंडरू फॉल्स का बजट',
    // Plan Your Trip
    planTitle: 'अपनी यात्रा की योजना बनाएँ',
    planIntro: 'अपनी पसंद बताइए, हम स्थानीय गाइड सुझाएँगे। आप होटल और होमस्टे भी देख सकते हैं।',
    suggestGuidesBtn: 'गाइड सुझाएँ',
    checkStaysBtn: 'होटल/होमस्टे देखें',
    suggestedGuidesTitle: 'सुझाए गए गाइड',
    hotelsTitle: 'होटल और होमस्टे',
    loadingStays: 'स्टे लोड हो रहे हैं...',
    // About page
    aboutTitle: 'हमारे बारे में',
    aboutNavCuisines: 'व्यंजन',
    aboutNavTribes: 'जनजातियाँ',
    aboutNavArts: 'कला और संस्कृति',
    aboutNavPlaces: 'प्रसिद्ध स्थान',
    cuisinesTitle: 'स्थानीय व्यंजन',
    cuisinesIntro: 'झारखंड का भोजन सादा और पौष्टिक है। आपकी यात्रा पर चखने के लिए कुछ पसंदीदा व्यंजन।',
    tribesTitle: 'झारखंड की जनजातियाँ',
    tribesIntro: 'यहाँ विविध आदिवासी समुदाय हैं—अपनी भाषा, पोशाक और परंपराओं के साथ।',
    artsCultureTitle: 'कला और संस्कृति',
    artsCultureIntro: 'दीवार चित्रों से लेकर हस्तशिल्प तक, झारखंड की कला प्रकृति और जीवन से जुड़ी है।',
    placesTitle: 'प्रसिद्ध स्थान',
    placesIntro: 'झरने, पहाड़ और विरासत स्थलों के प्रमुख गंतव्य देखें।',
    // Guide Dashboard
    guideDashboardTitle: 'गाइड डैशबोर्ड',
    gdProfile: 'प्रोफ़ाइल', gdEarnings: 'आय', gdFeedbacks: 'फीडबैक', gdTransactions: 'लेन-देन', gdChat: 'चैट', gdAvailability: 'उपलब्धता', gdBank: 'बैंक विवरण',
    gdProfileInfo: 'प्रोफ़ाइल जानकारी', gdLoading: 'लोड हो रहा है...',
    gdName: 'नाम', gdEmail: 'ईमेल', gdPhone: 'फोन', gdAddress: 'पता', gdLanguages: 'भाषाएँ', gdCertificateId: 'प्रमाणपत्र आईडी', gdExperience: 'अनुभव', gdYears: 'वर्ष',
    gdEarningsSummary: 'आय सारांश', gdTotal: 'कुल', gdThisMonth: 'इस माह', gdLastPayout: 'अंतिम भुगतान',
    gdMessages: 'संदेश', gdUnread: 'अपठित', gdNoMessages: 'अभी तक कोई संदेश नहीं।', gdYou: 'आप', gdVisitor: 'आगंतुक', gdMarkAllRead: 'सब पढ़ा चिह्नित करें', gdReplyPlaceholder: 'गाइड के रूप में उत्तर…',
    gdSave: 'सेव', gdAvailableForHire: 'किराये के लिए उपलब्ध', gdNote: 'नोट', gdSaveBank: 'बैंक सेव', gdAddEditBank: 'बैंक विवरण जोड़ें/संपादित करें', gdAccountHolderName: 'खाता धारक का नाम', gdAccountNumber: 'खाता संख्या', gdIFSC: 'आईएफएससी', gdBankName: 'बैंक का नाम', gdBranch: 'शाखा', gdUpdated: 'अपडेट',
    // Admin Dashboard
    adminDashboardTitle: 'एडमिन डैशबोर्ड',
    adminTouristInfo: 'पर्यटक जानकारी', adminGuidesInfo: 'गाइड जानकारी', adminMarketDetails: 'मार्केटप्लेस विवरण',
    adminConversion: 'कन्वर्ज़न', adminActiveUsers: 'सक्रिय उपयोगकर्ता', adminAvgRating: 'औसत रेटिंग', adminRatingsSnapshot: 'रेटिंग्स स्नैपशॉट',
    // Footer
    footerTagline: 'एक्सप्लोर करें. आदर करें. सेलिब्रेट करें.', footerUsefulLinks: 'उपयोगी लिंक्स', footerRegisterGuide: 'गाइड रजिस्टर', footerGuideDashboard: 'गाइड डैशबोर्ड', footerPayments: 'पेमेंट्स'
    ,
    // Login/Register common
    loginTitle: 'लॉगिन',
    adminLogin: 'एडमिन लॉगिन',
    email: 'ईमेल',
    password: 'पासवर्ड',
    pleaseWait: 'कृपया प्रतीक्षा करें...',
    createAccount: 'अकाउंट बनाएं',
    createAccountCta: 'अकाउंट बनाएं',
    haveAccountLogin: 'अकाउंट है? लॉगिन करें',
    forgotPassword: 'पासवर्ड भूल गए?',
    registerGuideLink: 'गाइड रजिस्टर'
    ,
    // Tourist auth
    touristLoginTitle: 'पर्यटक लॉगिन',
    touristCreateTitle: 'पर्यटक खाता बनाएँ',
    fullName: 'पूरा नाम',
    emailInvalid: 'कृपया मान्य ईमेल दर्ज करें।',
    passwordMin7: 'पासवर्ड कम से कम 7 अक्षरों का होना चाहिए।',
    adminDemoHint: 'एडमिन डेमो: ईमेल admin@demo.com, पासवर्ड Admin@123'
    ,
    // Register Guide page
    registerGuideTitle: 'ट्रैवल गाइड के रूप में रजिस्टर करें',
    name: 'नाम',
    phone: 'फोन',
    yearsExp: 'अनुभव (वर्ष)',
    address: 'पता',
    preferredLocation: 'पसंदीदा स्थान',
    certificateId: 'प्रमाणपत्र आईडी',
    languagesKnown: 'भाषाएँ',
    uploadPhoto: 'फोटो अपलोड करें',
    uploadCertificate: 'प्रमाणपत्र अपलोड करें',
    languagesKnownPlaceholder: 'जैसे English, Hindi',
    submit: 'सबमिट',
    submitting: 'सबमिट हो रहा है...',
    registrationSuccess: 'रजिस्ट्रेशन सफल! अब आप ट्रैवल गाइड के रूप में लॉगिन कर सकते हैं।',
    registrationFailed: 'रजिस्ट्रेशन असफल'
  },
  jh: {
    home: 'घर',
    bookings: 'बुकिंग',
    login: 'लॉगिन',
    logout: 'लॉगआउट',
    about: 'हमर बारे',
    tourBuddy: 'टूर साथी',
    discoverTitle: 'खोज',
    artsTitle: 'झारखंड के कला',
    artsIntro: 'झारखंड के लोक कला, शिल्प, कपड़ा आ नाच-गान के परंपरा देखअ। हर कार्ड में संक्षेप परिचय आ तस्वीर रह।',
    marketplaceTitle: 'बाज़ार',
    viewLocationLink: 'जगह / लिंक देखअ',
    viewOnMap: 'नक्शा पर देखअ',
    folksTitle: 'लोक आ संस्कृति',
    folksIntro: 'महीना-महीना झारखंड के जनजातीय संस्कृति आ परब-त्योहार। अपन यात्रा के योजना बनअ।',
    exploreTitle: 'साँच झारखंड घुमअ',
    exploreCta: 'साँच झारखंड घुमअ',
    loginTitle: 'लॉगिन',
    role: 'भूमिका',
    guideLogin: 'ट्रैवल गाइड बनके लॉगिन',
    adminLogin: 'एडमिन बनके लॉगिन',
    email: 'ईमेल',
    password: 'पासवर्ड',
    registerGuideLink: 'नवां ट्रैवल गाइड रजिस्टर',
    registerGuideTitle: 'ट्रैवल गाइड रजिस्ट्रेशन',
    name: 'पूरा नाँव',
    phone: 'फोन नंबर',
    address: 'ठिकाना',
    certificateId: 'सर्टिफिकेट आईडी',
    languagesKnown: 'भाषा',
    uploadPhoto: 'फोटो अपलोड',
    yearsExp: 'अनुभव (बरिस)',
    submit: 'सबमिट',
    // Chatbot
    chatbotTitle: 'एआई यात्रा सहाय',
    chatbotGreeting: 'नमस्कार! हमनी के यात्रा सहाय बानी. झारखंड, बुकिंग आ गाइड बारे पूछीं.',
    chatbotOpen: 'बात',
    chatbotClose: 'सहाय बंद करी',
    chatbotClear: 'साफ कर',
    chatbotOnline: 'ऑनलाइन',
    chatbotPlaceholder: 'जगह, गाइड, बुकिंग बारे पूछीं...',
    chatbotSend: 'भेजीं',
    suggBestTime: 'नेतरहाट जाए के बढ़िया बेरा',
    suggHowToReach: 'बेतला नेशनल पार्क केतना से पहुँची',
    suggTopAttractions: 'पतरातू वैली के बढ़िया जगह',
    suggLocalFood: 'रांची के स्थानीय खाना',
    suggBudget: 'हुंडरू फॉल्स के बजट',
  }
}

const I18nContext = createContext(null)

export function I18nProvider({ children }) {
  const [lang, setLang] = useState(() => {
    try { return localStorage.getItem('lang') || 'en' } catch { return 'en' }
  })
  const t = (key) => translations[lang]?.[key] ?? translations.en[key] ?? key
  const value = useMemo(() => ({ lang, setLang, t }), [lang])

  useEffect(() => {
    try { localStorage.setItem('lang', lang) } catch {}
  }, [lang])

  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>
}

export function useI18n() {
  const ctx = useContext(I18nContext)
  if (!ctx) throw new Error('useI18n must be used within I18nProvider')
  return ctx
}
